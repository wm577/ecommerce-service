<div class="container mt-4">
  <h2 class="mb-4">My Orders</h2>

  @if (isLoading()) {
    <div class="text-center p-5">
      <div class="spinner-border text-primary" role="status"></div>
      <p>Fetching your order history...</p>
    </div>
  }

  @else if (customerOrderList().length === 0) {
    <div class="card text-center p-5 shadow-sm">
      <i class="bi bi-bag-x mb-3" style="font-size: 3rem; color: #ccc;"></i>
      <h3>No orders found</h3>
      <p class="text-muted">It looks like you haven't placed any orders yet.</p>
      <button class="btn btn-primary mt-3" routerLink="/products">Start Shopping</button>
    </div>
  }

  @else {
    <div class="row">
      @for (order of customerOrderList(); track order.id) {
        <div class="col-12 mb-3">
          <div class="card shadow-sm border-0 order-card">
            <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-md-center">

              <div class="order-info">
                <h5 class="mb-1">Order #{{ order.id }}</h5>
                <p class="text-muted small mb-0">
                  Placed on: {{ order.orderDate | date:'medium' }}
                </p>
              </div>

              <div class="order-summary my-3 my-md-0">
                <span class="d-block text-muted small">Items: {{ order.orderItems.length }}</span>
                <span class="h5 mb-0 text-dark">{{ order.netAmount | currency }}</span>
              </div>

              <div class="order-status text-md-center">
                <span [class]="'badge rounded-pill p-2 px-3 status-' + order.status.toLowerCase()">
                  {{ order.status }}
                </span>
              </div>

              <div class="order-action mt-3 mt-md-0">
                <button class="btn btn-outline-primary btn-sm" [routerLink]="['/customer/order', order.id]">
                  View Details
                </button>
              </div>

            </div>
          </div>
        </div>
      }
    </div>
  }
</div>
